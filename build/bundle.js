var app=function(){"use strict";function t(){}function e(t){return t()}function a(){return Object.create(null)}function i(t){t.forEach(e)}function n(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,a,i){e.$$.on_destroy.push(function(e,...a){if(null==e)return t;const i=e.subscribe(...a);return i.unsubscribe?()=>i.unsubscribe():i}(a,i))}function r(t,e){t.appendChild(e)}function u(t,e,a){t.insertBefore(e,a||null)}function l(t){t.parentNode.removeChild(t)}function c(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function d(t,e,a,i){return t.addEventListener(e,a,i),()=>t.removeEventListener(e,a,i)}function m(t){return function(e){return e.preventDefault(),t.call(this,e)}}function v(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function y(t,e,a){e in t?t[e]=a:v(t,e,a)}function g(t){return""===t?null:+t}function b(t,e){t.value=null==e?"":e}function k(t,e,a){t.classList[a?"add":"remove"](e)}let w;function _(t){w=t}function L(t){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(t)}const C=[],x=[],M=[],T=[],H=Promise.resolve();let $=!1;function N(t){M.push(t)}let G=!1;const q=new Set;function F(){if(!G){G=!0;do{for(let t=0;t<C.length;t+=1){const e=C[t];_(e),A(e.$$)}for(_(null),C.length=0;x.length;)x.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];q.has(e)||(q.add(e),e())}M.length=0}while(C.length);for(;T.length;)T.pop()();$=!1,G=!1,q.clear()}}function A(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const P=new Set;let R;function V(t,e){t&&t.i&&(P.delete(t),t.i(e))}function D(t,e,a,i){if(t&&t.o){if(P.has(t))return;P.add(t),R.c.push((()=>{P.delete(t),i&&(a&&t.d(1),i())})),t.o(e)}}const O="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Z(t){t&&t.c()}function E(t,a,s,o){const{fragment:r,on_mount:u,on_destroy:l,after_update:c}=t.$$;r&&r.m(a,s),o||N((()=>{const a=u.map(e).filter(n);l?l.push(...a):i(a),t.$$.on_mount=[]})),c.forEach(N)}function S(t,e){const a=t.$$;null!==a.fragment&&(i(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function I(t,e){-1===t.$$.dirty[0]&&(C.push(t),$||($=!0,H.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function B(e,n,s,o,r,u,c=[-1]){const h=w;_(e);const f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:r,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:a(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=s?s(e,n.props||{},((t,a,...i)=>{const n=i.length?i[0]:a;return f.ctx&&r(f.ctx[t],f.ctx[t]=n)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](n),p&&I(e,t)),a})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(l)}else f.fragment&&f.fragment.c();n.intro&&V(e.$$.fragment),E(e,n.target,n.anchor,n.customElement),F()}_(h)}class j{$destroy(){S(this,1),this.$destroy=t}$on(t,e){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var z,Q=(function(t){!function(){var e,a,i=function(t,e){t.value=e},n=Object.create(null,{activate:{writable:!0,value:function(t){t?(this.input.disconnect(),this.input.connect(this.activateNode),this.activateCallback&&this.activateCallback(t)):(this.input.disconnect(),this.input.connect(this.output))}},bypass:{get:function(){return this._bypass},set:function(t){this._lastBypassValue!==t&&(this._bypass=t,this.activate(!t),this._lastBypassValue=t)}},connect:{value:function(t){this.output.connect(t)}},disconnect:{value:function(t){this.output.disconnect(t)}},connectInOrder:{value:function(t){for(var e=t.length-1;e--;){if(!t[e].connect)return console.error("AudioNode.connectInOrder: TypeError: Not an AudioNode.",t[e]);t[e+1].input?t[e].connect(t[e+1].input):t[e].connect(t[e+1])}}},getDefaults:{value:function(){var t={};for(var e in this.defaults)t[e]=this.defaults[e].value;return t}},automate:{value:function(t,a,i,n){var s,o=n?~~(n/1e3):e.currentTime,r=i?~~(i/1e3):0,u=this.defaults[t],l=this[t];l?u.automatable?(i?(s="linearRampToValueAtTime",l.cancelScheduledValues(o),l.setValueAtTime(l.value,o)):s="setValueAtTime",l[s](a,r+o)):l=a:console.error("Invalid Property for "+this.name)}}}),s="float",o="boolean",r="int";function u(t){if(!(this instanceof u))return new u(t);var i="undefined"==typeof window?{}:window;if(i.AudioContext||(i.AudioContext=i.webkitAudioContext),t||(console.log("tuna.js: Missing audio context! Creating a new context for you."),t=i.AudioContext&&new i.AudioContext),!t)throw new Error("Tuna cannot initialize because this environment does not support web audio.");!function(t){if(!0!==t.__connectified__){var e=t.createGain(),a=Object.getPrototypeOf(Object.getPrototypeOf(e)),i=a.connect;a.connect=s,t.__connectified__=!0}function s(){var t=arguments[0];return arguments[0]=n.isPrototypeOf?n.isPrototypeOf(t)?t.input:t:t.input||t,i.apply(this,arguments),t}}(t),e=t,a=this}function l(t){return Math.max(0,Math.round(100*Math.pow(2,t/6))/100)}function c(t,e){var a,i,n,s=0,o=0,r=0;return a=t.toExponential().match(/^.\.?(.*)e(.+)$/),s=parseInt(a[2],10)-(a[1]+"").length,a=e.toExponential().match(/^.\.?(.*)e(.+)$/),(n=parseInt(a[2],10)-(a[1]+"").length)>s&&(s=n),i=t%e,s<-100||s>20?(o=Math.round(Math.log(i)/Math.log(10)),(i/(r=Math.pow(10,o))).toFixed(o-s)*r):parseFloat(i.toFixed(-s))}function h(t){return 0===t?1:Math.abs(t)/t}function f(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function p(t,e){return void 0===t?e:t}t.exports?t.exports=u:window.Tuna=u,u.prototype.Bitcrusher=function(t){t||(t=this.getDefaults()),this.bufferSize=t.bufferSize||this.defaults.bufferSize.value,this.input=e.createGain(),this.activateNode=e.createGain(),this.processor=e.createScriptProcessor(this.bufferSize,1,1),this.output=e.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output);var a,i,n,s,o,r=0,u=0;this.processor.onaudioprocess=function(t){for(a=t.inputBuffer.getChannelData(0),i=t.outputBuffer.getChannelData(0),n=Math.pow(.5,this.bits),o=a.length,s=0;s<o;s++)(r+=this.normfreq)>=1&&(r-=1,u=n*Math.floor(a[s]/n+.5)),i[s]=u},this.bits=t.bits||this.defaults.bits.value,this.normfreq=p(t.normfreq,this.defaults.normfreq.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Bitcrusher.prototype=Object.create(n,{name:{value:"Bitcrusher"},defaults:{writable:!0,value:{bits:{value:4,min:1,max:16,automatable:!1,type:r},bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o},normfreq:{value:.1,min:1e-4,max:1,automatable:!1,type:s}}},bits:{enumerable:!0,get:function(){return this.processor.bits},set:function(t){this.processor.bits=t}},normfreq:{enumerable:!0,get:function(){return this.processor.normfreq},set:function(t){this.processor.normfreq=t}}}),u.prototype.Cabinet=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.convolver=this.newConvolver(t.impulsePath||"../impulses/impulse_guitar.wav"),this.makeupNode=e.createGain(),this.output=e.createGain(),this.activateNode.connect(this.convolver.input),this.convolver.output.connect(this.makeupNode),this.makeupNode.connect(this.output),this.makeupNode.gain.value=p(t.makeupGain,this.defaults.makeupGain.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Cabinet.prototype=Object.create(n,{name:{value:"Cabinet"},defaults:{writable:!0,value:{makeupGain:{value:1,min:0,max:20,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(t){this.makeupNode.gain.setTargetAtTime(t,e.currentTime,.01)}},newConvolver:{value:function(t){return new a.Convolver({impulse:t,dryLevel:0,wetLevel:1})}}}),u.prototype.Chorus=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.attenuator=this.activateNode=e.createGain(),this.splitter=e.createChannelSplitter(2),this.delayL=e.createDelay(),this.delayR=e.createDelay(),this.feedbackGainNodeLR=e.createGain(),this.feedbackGainNodeRL=e.createGain(),this.merger=e.createChannelMerger(2),this.output=e.createGain(),this.lfoL=new a.LFO({target:this.delayL.delayTime,callback:i}),this.lfoR=new a.LFO({target:this.delayR.delayTime,callback:i}),this.input.connect(this.attenuator),this.attenuator.connect(this.output),this.attenuator.connect(this.splitter),this.splitter.connect(this.delayL,0),this.splitter.connect(this.delayR,1),this.delayL.connect(this.feedbackGainNodeLR),this.delayR.connect(this.feedbackGainNodeRL),this.feedbackGainNodeLR.connect(this.delayR),this.feedbackGainNodeRL.connect(this.delayL),this.delayL.connect(this.merger,0,0),this.delayR.connect(this.merger,0,1),this.merger.connect(this.output),this.feedback=p(t.feedback,this.defaults.feedback.value),this.rate=p(t.rate,this.defaults.rate.value),this.delay=p(t.delay,this.defaults.delay.value),this.depth=p(t.depth,this.defaults.depth.value),this.lfoR.phase=Math.PI/2,this.attenuator.gain.value=.6934,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Chorus.prototype=Object.create(n,{name:{value:"Chorus"},defaults:{writable:!0,value:{feedback:{value:.4,min:0,max:.95,automatable:!1,type:s},delay:{value:.0045,min:0,max:1,automatable:!1,type:s},depth:{value:.7,min:0,max:1,automatable:!1,type:s},rate:{value:1.5,min:0,max:8,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},delay:{enumerable:!0,get:function(){return this._delay},set:function(t){this._delay=2*Math.pow(10,t)*2e-4,this.lfoL.offset=this._delay,this.lfoR.offset=this._delay,this._depth=this._depth}},depth:{enumerable:!0,get:function(){return this._depth},set:function(t){this._depth=t,this.lfoL.oscillation=this._depth*this._delay,this.lfoR.oscillation=this._depth*this._delay}},feedback:{enumerable:!0,get:function(){return this._feedback},set:function(t){this._feedback=t,this.feedbackGainNodeLR.gain.setTargetAtTime(this._feedback,e.currentTime,.01),this.feedbackGainNodeRL.gain.setTargetAtTime(this._feedback,e.currentTime,.01)}},rate:{enumerable:!0,get:function(){return this._rate},set:function(t){this._rate=t,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}}}),u.prototype.Compressor=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.compNode=this.activateNode=e.createDynamicsCompressor(),this.makeupNode=e.createGain(),this.output=e.createGain(),this.compNode.connect(this.makeupNode),this.makeupNode.connect(this.output),this.automakeup=p(t.automakeup,this.defaults.automakeup.value),this.automakeup?this.makeupNode.gain.value=l(this.computeMakeup()):this.makeupNode.gain.value=l(p(t.makeupGain,this.defaults.makeupGain.value)),this.threshold=p(t.threshold,this.defaults.threshold.value),this.release=p(t.release,this.defaults.release.value),this.attack=p(t.attack,this.defaults.attack.value),this.ratio=t.ratio||this.defaults.ratio.value,this.knee=p(t.knee,this.defaults.knee.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Compressor.prototype=Object.create(n,{name:{value:"Compressor"},defaults:{writable:!0,value:{threshold:{value:-20,min:-60,max:0,automatable:!0,type:s},release:{value:250,min:10,max:2e3,automatable:!0,type:s},makeupGain:{value:1,min:1,max:100,automatable:!0,type:s},attack:{value:1,min:0,max:1e3,automatable:!0,type:s},ratio:{value:4,min:1,max:50,automatable:!0,type:s},knee:{value:5,min:0,max:40,automatable:!0,type:s},automakeup:{value:!1,automatable:!1,type:o},bypass:{value:!1,automatable:!1,type:o}}},computeMakeup:{value:function(){var t=this.compNode;return-(t.threshold.value-t.threshold.value/t.ratio.value)/4}},automakeup:{enumerable:!0,get:function(){return this._automakeup},set:function(t){this._automakeup=t,this._automakeup&&(this.makeupGain=this.computeMakeup())}},threshold:{enumerable:!0,get:function(){return this.compNode.threshold},set:function(t){this.compNode.threshold.value=t,this._automakeup&&(this.makeupGain=this.computeMakeup())}},ratio:{enumerable:!0,get:function(){return this.compNode.ratio},set:function(t){this.compNode.ratio.value=t,this._automakeup&&(this.makeupGain=this.computeMakeup())}},knee:{enumerable:!0,get:function(){return this.compNode.knee},set:function(t){this.compNode.knee.value=t,this._automakeup&&(this.makeupGain=this.computeMakeup())}},attack:{enumerable:!0,get:function(){return this.compNode.attack},set:function(t){this.compNode.attack.value=t/1e3}},release:{enumerable:!0,get:function(){return this.compNode.release},set:function(t){this.compNode.release.value=t/1e3}},makeupGain:{enumerable:!0,get:function(){return this.makeupNode.gain},set:function(t){this.makeupNode.gain.setTargetAtTime(l(t),e.currentTime,.01)}}}),u.prototype.Convolver=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.convolver=e.createConvolver(),this.dry=e.createGain(),this.filterLow=e.createBiquadFilter(),this.filterHigh=e.createBiquadFilter(),this.wet=e.createGain(),this.output=e.createGain(),this.activateNode.connect(this.filterLow),this.activateNode.connect(this.dry),this.filterLow.connect(this.filterHigh),this.filterHigh.connect(this.convolver),this.convolver.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.dry.gain.value=p(t.dryLevel,this.defaults.dryLevel.value),this.wet.gain.value=p(t.wetLevel,this.defaults.wetLevel.value),this.filterHigh.frequency.value=t.highCut||this.defaults.highCut.value,this.filterLow.frequency.value=t.lowCut||this.defaults.lowCut.value,this.output.gain.value=p(t.level,this.defaults.level.value),this.filterHigh.type="lowpass",this.filterLow.type="highpass",this.buffer=t.impulse||"../impulses/ir_rev_short.wav",this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Convolver.prototype=Object.create(n,{name:{value:"Convolver"},defaults:{writable:!0,value:{highCut:{value:22050,min:20,max:22050,automatable:!0,type:s},lowCut:{value:20,min:20,max:22050,automatable:!0,type:s},dryLevel:{value:1,min:0,max:1,automatable:!0,type:s},wetLevel:{value:1,min:0,max:1,automatable:!0,type:s},level:{value:1,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},lowCut:{get:function(){return this.filterLow.frequency},set:function(t){this.filterLow.frequency.setTargetAtTime(t,e.currentTime,.01)}},highCut:{get:function(){return this.filterHigh.frequency},set:function(t){this.filterHigh.frequency.setTargetAtTime(t,e.currentTime,.01)}},level:{get:function(){return this.output.gain},set:function(t){this.output.gain.setTargetAtTime(t,e.currentTime,.01)}},dryLevel:{get:function(){return this.dry.gain},set:function(t){this.dry.gain.setTargetAtTime(t,e.currentTime,.01)}},wetLevel:{get:function(){return this.wet.gain},set:function(t){this.wet.gain.setTargetAtTime(t,e.currentTime,.01)}},buffer:{enumerable:!1,get:function(){return this.convolver.buffer},set:function(t){var a=this.convolver,i=new XMLHttpRequest;t?(i.open("GET",t,!0),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.status<300&&i.status>199||302===i.status)&&e.decodeAudioData(i.response,(function(t){a.buffer=t}),(function(t){t&&console.log("Tuna.Convolver.setBuffer: Error decoding data"+t)}))},i.send(null)):console.log("Tuna.Convolver.setBuffer: Missing impulse path!")}}}),u.prototype.Delay=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.dry=e.createGain(),this.wet=e.createGain(),this.filter=e.createBiquadFilter(),this.delay=e.createDelay(10),this.feedbackNode=e.createGain(),this.output=e.createGain(),this.activateNode.connect(this.delay),this.activateNode.connect(this.dry),this.delay.connect(this.filter),this.filter.connect(this.feedbackNode),this.feedbackNode.connect(this.delay),this.feedbackNode.connect(this.wet),this.wet.connect(this.output),this.dry.connect(this.output),this.delayTime=t.delayTime||this.defaults.delayTime.value,this.feedbackNode.gain.value=p(t.feedback,this.defaults.feedback.value),this.wet.gain.value=p(t.wetLevel,this.defaults.wetLevel.value),this.dry.gain.value=p(t.dryLevel,this.defaults.dryLevel.value),this.filter.frequency.value=t.cutoff||this.defaults.cutoff.value,this.filter.type="lowpass",this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Delay.prototype=Object.create(n,{name:{value:"Delay"},defaults:{writable:!0,value:{delayTime:{value:100,min:20,max:1e3,automatable:!1,type:s},feedback:{value:.45,min:0,max:.9,automatable:!0,type:s},cutoff:{value:2e4,min:20,max:2e4,automatable:!0,type:s},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:s},dryLevel:{value:1,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}},delayTime:{enumerable:!0,get:function(){return this.delay.delayTime},set:function(t){this.delay.delayTime.value=t/1e3}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(t){this.wet.gain.setTargetAtTime(t,e.currentTime,.01)}},dryLevel:{enumerable:!0,get:function(){return this.dry.gain},set:function(t){this.dry.gain.setTargetAtTime(t,e.currentTime,.01)}},feedback:{enumerable:!0,get:function(){return this.feedbackNode.gain},set:function(t){this.feedbackNode.gain.setTargetAtTime(t,e.currentTime,.01)}},cutoff:{enumerable:!0,get:function(){return this.filter.frequency},set:function(t){this.filter.frequency.setTargetAtTime(t,e.currentTime,.01)}}}),u.prototype.Filter=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.filter=e.createBiquadFilter(),this.output=e.createGain(),this.activateNode.connect(this.filter),this.filter.connect(this.output),this.filter.frequency.value=t.frequency||this.defaults.frequency.value,this.Q=t.resonance||this.defaults.Q.value,this.filterType=p(t.filterType,this.defaults.filterType.value),this.filter.gain.value=p(t.gain,this.defaults.gain.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Filter.prototype=Object.create(n,{name:{value:"Filter"},defaults:{writable:!0,value:{frequency:{value:800,min:20,max:22050,automatable:!0,type:s},Q:{value:1,min:.001,max:100,automatable:!0,type:s},gain:{value:0,min:-40,max:40,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o},filterType:{value:"lowpass",automatable:!1,type:"string"}}},filterType:{enumerable:!0,get:function(){return this.filter.type},set:function(t){this.filter.type=t}},Q:{enumerable:!0,get:function(){return this.filter.Q},set:function(t){this.filter.Q.value=t}},gain:{enumerable:!0,get:function(){return this.filter.gain},set:function(t){this.filter.gain.setTargetAtTime(t,e.currentTime,.01)}},frequency:{enumerable:!0,get:function(){return this.filter.frequency},set:function(t){this.filter.frequency.setTargetAtTime(t,e.currentTime,.01)}}}),u.prototype.Gain=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.gainNode=e.createGain(),this.output=e.createGain(),this.activateNode.connect(this.gainNode),this.gainNode.connect(this.output),this.gainNode.gain.value=p(t.gain,this.defaults.gain.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Gain.prototype=Object.create(n,{name:{value:"Gain"},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:o},gain:{value:1,automatable:!0,type:s}}},gain:{enumerable:!0,get:function(){return this.gainNode.gain},set:function(t){this.gainNode.gain.setTargetAtTime(t,e.currentTime,.01)}}}),u.prototype.MoogFilter=function(t){var a,i,n,s,o,r,u,l,c,h,f,d,m,v,y;t||(t=this.getDefaults()),this.bufferSize=t.bufferSize||this.defaults.bufferSize.value,this.input=e.createGain(),this.activateNode=e.createGain(),this.processor=e.createScriptProcessor(this.bufferSize,1,1),this.output=e.createGain(),this.activateNode.connect(this.processor),this.processor.connect(this.output),a=i=n=s=o=r=u=l=0,this.processor.onaudioprocess=function(t){for(c=t.inputBuffer.getChannelData(0),h=t.outputBuffer.getChannelData(0),f=1.16*this.cutoff,y=f*f*.35013*(f*f),d=this.resonance*(1-.15*f*f),v=c.length,m=0;m<v;m++)c[m]-=l*d,c[m]*=y,o=c[m]+.3*a+(1-f)*o,a=c[m],r=o+.3*i+(1-f)*r,i=o,u=r+.3*n+(1-f)*u,n=r,l=u+.3*s+(1-f)*l,s=u,h[m]=l},this.cutoff=p(t.cutoff,this.defaults.cutoff.value),this.resonance=p(t.resonance,this.defaults.resonance.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.MoogFilter.prototype=Object.create(n,{name:{value:"MoogFilter"},defaults:{writable:!0,value:{bufferSize:{value:4096,min:256,max:16384,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o},cutoff:{value:.065,min:1e-4,max:1,automatable:!1,type:s},resonance:{value:3.5,min:0,max:4,automatable:!1,type:s}}},cutoff:{enumerable:!0,get:function(){return this.processor.cutoff},set:function(t){this.processor.cutoff=t}},resonance:{enumerable:!0,get:function(){return this.processor.resonance},set:function(t){this.processor.resonance=t}}}),u.prototype.Overdrive=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.inputDrive=e.createGain(),this.waveshaper=e.createWaveShaper(),this.outputDrive=e.createGain(),this.output=e.createGain(),this.activateNode.connect(this.inputDrive),this.inputDrive.connect(this.waveshaper),this.waveshaper.connect(this.outputDrive),this.outputDrive.connect(this.output),this.ws_table=new Float32Array(this.k_nSamples),this.drive=p(t.drive,this.defaults.drive.value),this.outputGain=p(t.outputGain,this.defaults.outputGain.value),this.curveAmount=p(t.curveAmount,this.defaults.curveAmount.value),this.algorithmIndex=p(t.algorithmIndex,this.defaults.algorithmIndex.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Overdrive.prototype=Object.create(n,{name:{value:"Overdrive"},defaults:{writable:!0,value:{drive:{value:1,min:0,max:1,automatable:!0,type:s,scaled:!0},outputGain:{value:0,min:-46,max:0,automatable:!0,type:s,scaled:!0},curveAmount:{value:.725,min:0,max:1,automatable:!1,type:s},algorithmIndex:{value:0,min:0,max:5,automatable:!1,type:r},bypass:{value:!1,automatable:!1,type:o}}},k_nSamples:{value:8192},drive:{get:function(){return this.inputDrive.gain},set:function(t){this._drive=t}},curveAmount:{get:function(){return this._curveAmount},set:function(t){this._curveAmount=t,void 0===this._algorithmIndex&&(this._algorithmIndex=0),this.waveshaperAlgorithms[this._algorithmIndex](this._curveAmount,this.k_nSamples,this.ws_table),this.waveshaper.curve=this.ws_table}},outputGain:{get:function(){return this.outputDrive.gain},set:function(t){this._outputGain=l(t),this.outputDrive.gain.setValueAtTime(this._outputGain,e.currentTime,.01)}},algorithmIndex:{get:function(){return this._algorithmIndex},set:function(t){this._algorithmIndex=t,this.curveAmount=this._curveAmount}},waveshaperAlgorithms:{value:[function(t,e,a){var i,n,s=2*(t=Math.min(t,.9999))/(1-t);for(i=0;i<e;i++)n=2*i/e-1,a[i]=(1+s)*n/(1+s*Math.abs(n))},function(t,e,a){var i,n,s;for(i=0;i<e;i++)n=2*i/e-1,s=(.5*Math.pow(n+1.4,2)-1)*s>=0?5.8:1.2,a[i]=f(s)},function(t,e,a){var i,n,s,o=1-t;for(i=0;i<e;i++)s=(n=2*i/e-1)<0?-Math.pow(Math.abs(n),o+.04):Math.pow(n,o),a[i]=f(2*s)},function(t,e,a){var i,n,s,o,r=1-t>.99?.99:1-t;for(i=0;i<e;i++)n=2*i/e-1,(o=Math.abs(n))<r?s=o:o>r?s=r+(o-r)/(1+Math.pow((o-r)/(1-r),2)):o>1&&(s=o),a[i]=h(n)*s*(1/((r+1)/2))},function(t,e,a){var i,n;for(i=0;i<e;i++)n=2*i/e-1,a[i]=n<-.08905?-3/4*(1-Math.pow(1-(Math.abs(n)-.032857),12)+1/3*(Math.abs(n)-.032847))+.01:n>=-.08905&&n<.320018?n*n*-6.153+3.9375*n:.630035},function(t,e,a){var i,n,s=2+Math.round(14*t),o=Math.round(Math.pow(2,s-1));for(i=0;i<e;i++)n=2*i/e-1,a[i]=Math.round(n*o)/o}]}}),u.prototype.Panner=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.panner=e.createStereoPanner(),this.output=e.createGain(),this.activateNode.connect(this.panner),this.panner.connect(this.output),this.pan=p(t.pan,this.defaults.pan.value),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Panner.prototype=Object.create(n,{name:{value:"Panner"},defaults:{writable:!0,value:{bypass:{value:!1,automatable:!1,type:o},pan:{value:0,min:-1,max:1,automatable:!0,type:s}}},pan:{enumerable:!0,get:function(){return this.panner.pan},set:function(t){this.panner.pan.value=t}}}),u.prototype.Phaser=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.splitter=this.activateNode=e.createChannelSplitter(2),this.filtersL=[],this.filtersR=[],this.feedbackGainNodeL=e.createGain(),this.feedbackGainNodeR=e.createGain(),this.merger=e.createChannelMerger(2),this.filteredSignal=e.createGain(),this.output=e.createGain(),this.lfoL=new a.LFO({target:this.filtersL,callback:this.callback}),this.lfoR=new a.LFO({target:this.filtersR,callback:this.callback});for(var i=this.stage;i--;)this.filtersL[i]=e.createBiquadFilter(),this.filtersR[i]=e.createBiquadFilter(),this.filtersL[i].type="allpass",this.filtersR[i].type="allpass";this.input.connect(this.splitter),this.input.connect(this.output),this.splitter.connect(this.filtersL[0],0,0),this.splitter.connect(this.filtersR[0],1,0),this.connectInOrder(this.filtersL),this.connectInOrder(this.filtersR),this.filtersL[this.stage-1].connect(this.feedbackGainNodeL),this.filtersL[this.stage-1].connect(this.merger,0,0),this.filtersR[this.stage-1].connect(this.feedbackGainNodeR),this.filtersR[this.stage-1].connect(this.merger,0,1),this.feedbackGainNodeL.connect(this.filtersL[0]),this.feedbackGainNodeR.connect(this.filtersR[0]),this.merger.connect(this.output),this.rate=p(t.rate,this.defaults.rate.value),this.baseModulationFrequency=t.baseModulationFrequency||this.defaults.baseModulationFrequency.value,this.depth=p(t.depth,this.defaults.depth.value),this.feedback=p(t.feedback,this.defaults.feedback.value),this.stereoPhase=p(t.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Phaser.prototype=Object.create(n,{name:{value:"Phaser"},stage:{value:4},defaults:{writable:!0,value:{rate:{value:.1,min:0,max:8,automatable:!1,type:s},depth:{value:.6,min:0,max:1,automatable:!1,type:s},feedback:{value:.7,min:0,max:1,automatable:!1,type:s},stereoPhase:{value:40,min:0,max:180,automatable:!1,type:s},baseModulationFrequency:{value:700,min:500,max:1500,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},callback:{value:function(t,e){for(var a=0;a<4;a++)t[a].frequency.value=e}},depth:{get:function(){return this._depth},set:function(t){this._depth=t,this.lfoL.oscillation=this._baseModulationFrequency*this._depth,this.lfoR.oscillation=this._baseModulationFrequency*this._depth}},rate:{get:function(){return this._rate},set:function(t){this._rate=t,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},baseModulationFrequency:{enumerable:!0,get:function(){return this._baseModulationFrequency},set:function(t){this._baseModulationFrequency=t,this.lfoL.offset=this._baseModulationFrequency,this.lfoR.offset=this._baseModulationFrequency,this.depth=this._depth}},feedback:{get:function(){return this._feedback},set:function(t){this._feedback=t,this.feedbackGainNodeL.gain.setTargetAtTime(this._feedback,e.currentTime,.01),this.feedbackGainNodeR.gain.setTargetAtTime(this._feedback,e.currentTime,.01)}},stereoPhase:{get:function(){return this._stereoPhase},set:function(t){this._stereoPhase=t;var e=this.lfoL._phase+this._stereoPhase*Math.PI/180;e=c(e,2*Math.PI),this.lfoR._phase=e}}}),u.prototype.PingPongDelay=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.wet=e.createGain(),this.stereoToMonoMix=e.createGain(),this.feedbackLevel=e.createGain(),this.output=e.createGain(),this.delayLeft=e.createDelay(10),this.delayRight=e.createDelay(10),this.activateNode=e.createGain(),this.splitter=e.createChannelSplitter(2),this.merger=e.createChannelMerger(2),this.activateNode.connect(this.splitter),this.splitter.connect(this.stereoToMonoMix,0,0),this.splitter.connect(this.stereoToMonoMix,1,0),this.stereoToMonoMix.gain.value=.5,this.stereoToMonoMix.connect(this.wet),this.wet.connect(this.delayLeft),this.feedbackLevel.connect(this.wet),this.delayLeft.connect(this.delayRight),this.delayRight.connect(this.feedbackLevel),this.delayLeft.connect(this.merger,0,0),this.delayRight.connect(this.merger,0,1),this.merger.connect(this.output),this.activateNode.connect(this.output),this.delayTimeLeft=void 0!==t.delayTimeLeft?t.delayTimeLeft:this.defaults.delayTimeLeft.value,this.delayTimeRight=void 0!==t.delayTimeRight?t.delayTimeRight:this.defaults.delayTimeRight.value,this.feedbackLevel.gain.value=void 0!==t.feedback?t.feedback:this.defaults.feedback.value,this.wet.gain.value=void 0!==t.wetLevel?t.wetLevel:this.defaults.wetLevel.value,this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.PingPongDelay.prototype=Object.create(n,{name:{value:"PingPongDelay"},delayTimeLeft:{enumerable:!0,get:function(){return this._delayTimeLeft},set:function(t){this._delayTimeLeft=t,this.delayLeft.delayTime.value=t/1e3}},delayTimeRight:{enumerable:!0,get:function(){return this._delayTimeRight},set:function(t){this._delayTimeRight=t,this.delayRight.delayTime.value=t/1e3}},wetLevel:{enumerable:!0,get:function(){return this.wet.gain},set:function(t){this.wet.gain.setTargetAtTime(t,e.currentTime,.01)}},feedback:{enumerable:!0,get:function(){return this.feedbackLevel.gain},set:function(t){this.feedbackLevel.gain.setTargetAtTime(t,e.currentTime,.01)}},defaults:{writable:!0,value:{delayTimeLeft:{value:200,min:1,max:1e4,automatable:!1,type:r},delayTimeRight:{value:400,min:1,max:1e4,automatable:!1,type:r},feedback:{value:.3,min:0,max:1,automatable:!0,type:s},wetLevel:{value:.5,min:0,max:1,automatable:!0,type:s},bypass:{value:!1,automatable:!1,type:o}}}}),u.prototype.Tremolo=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.splitter=this.activateNode=e.createChannelSplitter(2),this.amplitudeL=e.createGain(),this.amplitudeR=e.createGain(),this.merger=e.createChannelMerger(2),this.output=e.createGain(),this.lfoL=new a.LFO({target:this.amplitudeL.gain,callback:i}),this.lfoR=new a.LFO({target:this.amplitudeR.gain,callback:i}),this.input.connect(this.splitter),this.splitter.connect(this.amplitudeL,0),this.splitter.connect(this.amplitudeR,1),this.amplitudeL.connect(this.merger,0,0),this.amplitudeR.connect(this.merger,0,1),this.merger.connect(this.output),this.rate=t.rate||this.defaults.rate.value,this.intensity=p(t.intensity,this.defaults.intensity.value),this.stereoPhase=p(t.stereoPhase,this.defaults.stereoPhase.value),this.lfoL.offset=1-this.intensity/2,this.lfoR.offset=1-this.intensity/2,this.lfoL.phase=this.stereoPhase*Math.PI/180,this.lfoL.activate(!0),this.lfoR.activate(!0),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.Tremolo.prototype=Object.create(n,{name:{value:"Tremolo"},defaults:{writable:!0,value:{intensity:{value:.3,min:0,max:1,automatable:!1,type:s},stereoPhase:{value:0,min:0,max:180,automatable:!1,type:s},rate:{value:5,min:.1,max:11,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},intensity:{enumerable:!0,get:function(){return this._intensity},set:function(t){this._intensity=t,this.lfoL.offset=1-this._intensity/2,this.lfoR.offset=1-this._intensity/2,this.lfoL.oscillation=this._intensity,this.lfoR.oscillation=this._intensity}},rate:{enumerable:!0,get:function(){return this._rate},set:function(t){this._rate=t,this.lfoL.frequency=this._rate,this.lfoR.frequency=this._rate}},stereoPhase:{enumerable:!0,get:function(){return this._stereoPhase},set:function(t){this._stereoPhase=t;var e=this.lfoL._phase+this._stereoPhase*Math.PI/180;e=c(e,2*Math.PI),this.lfoR.phase=e}}}),u.prototype.WahWah=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.activateNode=e.createGain(),this.envelopeFollower=new a.EnvelopeFollower({target:this,callback:function(t,e){t.sweep=e}}),this.filterBp=e.createBiquadFilter(),this.filterPeaking=e.createBiquadFilter(),this.output=e.createGain(),this.activateNode.connect(this.filterBp),this.filterBp.connect(this.filterPeaking),this.filterPeaking.connect(this.output),this.init(),this.automode=p(t.automode,this.defaults.automode.value),this.resonance=t.resonance||this.defaults.resonance.value,this.sensitivity=p(t.sensitivity,this.defaults.sensitivity.value),this.baseFrequency=p(t.baseFrequency,this.defaults.baseFrequency.value),this.excursionOctaves=t.excursionOctaves||this.defaults.excursionOctaves.value,this.sweep=p(t.sweep,this.defaults.sweep.value),this.activateNode.gain.value=2,this.envelopeFollower.activate(!0),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.WahWah.prototype=Object.create(n,{name:{value:"WahWah"},defaults:{writable:!0,value:{automode:{value:!0,automatable:!1,type:o},baseFrequency:{value:.5,min:0,max:1,automatable:!1,type:s},excursionOctaves:{value:2,min:1,max:6,automatable:!1,type:s},sweep:{value:.2,min:0,max:1,automatable:!1,type:s},resonance:{value:10,min:1,max:100,automatable:!1,type:s},sensitivity:{value:.5,min:-1,max:1,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},automode:{get:function(){return this._automode},set:function(t){this._automode=t,t?(this.activateNode.connect(this.envelopeFollower.input),this.envelopeFollower.activate(!0)):(this.envelopeFollower.activate(!1),this.activateNode.disconnect(),this.activateNode.connect(this.filterBp))}},filterFreqTimeout:{writable:!0,value:0},setFilterFreq:{value:function(){try{this.filterBp.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep),this.filterPeaking.frequency.value=Math.min(22050,this._baseFrequency+this._excursionFrequency*this._sweep)}catch(t){clearTimeout(this.filterFreqTimeout),this.filterFreqTimeout=setTimeout(function(){this.setFilterFreq()}.bind(this),0)}}},sweep:{enumerable:!0,get:function(){return this._sweep},set:function(t){this._sweep=Math.pow(t>1?1:t<0?0:t,this._sensitivity),this.setFilterFreq()}},baseFrequency:{enumerable:!0,get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=50*Math.pow(10,2*t),this._excursionFrequency=Math.min(e.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq()}},excursionOctaves:{enumerable:!0,get:function(){return this._excursionOctaves},set:function(t){this._excursionOctaves=t,this._excursionFrequency=Math.min(e.sampleRate/2,this.baseFrequency*Math.pow(2,this._excursionOctaves)),this.setFilterFreq()}},sensitivity:{enumerable:!0,get:function(){return this._sensitivity},set:function(t){this._sensitivity=Math.pow(10,t)}},resonance:{enumerable:!0,get:function(){return this._resonance},set:function(t){this._resonance=t,this.filterPeaking.Q.value=this._resonance}},init:{value:function(){this.output.gain.value=1,this.filterPeaking.type="peaking",this.filterBp.type="bandpass",this.filterPeaking.frequency.value=100,this.filterPeaking.gain.value=20,this.filterPeaking.Q.value=5,this.filterBp.frequency.value=100,this.filterBp.Q.value=1}}}),u.prototype.EnvelopeFollower=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.jsNode=this.output=e.createScriptProcessor(this.buffersize,1,1),this.input.connect(this.output),this.attackTime=p(t.attackTime,this.defaults.attackTime.value),this.releaseTime=p(t.releaseTime,this.defaults.releaseTime.value),this._envelope=0,this.target=t.target||{},this.callback=t.callback||function(){},this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.EnvelopeFollower.prototype=Object.create(n,{name:{value:"EnvelopeFollower"},defaults:{value:{attackTime:{value:.003,min:0,max:.5,automatable:!1,type:s},releaseTime:{value:.5,min:0,max:.5,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},buffersize:{value:256},envelope:{value:0},sampleRate:{value:44100},attackTime:{enumerable:!0,get:function(){return this._attackTime},set:function(t){this._attackTime=t,this._attackC=Math.exp(-1/this._attackTime*this.sampleRate/this.buffersize)}},releaseTime:{enumerable:!0,get:function(){return this._releaseTime},set:function(t){this._releaseTime=t,this._releaseC=Math.exp(-1/this._releaseTime*this.sampleRate/this.buffersize)}},callback:{get:function(){return this._callback},set:function(t){"function"==typeof t?this._callback=t:console.error("tuna.js: "+this.name+": Callback must be a function!")}},target:{get:function(){return this._target},set:function(t){this._target=t}},activate:{value:function(t){this.activated=t,t?(this.jsNode.connect(e.destination),this.jsNode.onaudioprocess=this.returnCompute(this)):(this.jsNode.disconnect(),this.jsNode.onaudioprocess=null),this.activateCallback&&this.activateCallback(t)}},returnCompute:{value:function(t){return function(e){t.compute(e)}}},compute:{value:function(t){var e,a,i,n,s=t.inputBuffer.getChannelData(0).length,o=t.inputBuffer.numberOfChannels;if(a=i=n=0,o>1)for(n=0;n<s;++n)for(;a<o;++a)i+=(e=t.inputBuffer.getChannelData(a)[n])*e/o;else for(n=0;n<s;++n)i+=(e=t.inputBuffer.getChannelData(0)[n])*e;i=Math.sqrt(i),this._envelope<i?(this._envelope*=this._attackC,this._envelope+=(1-this._attackC)*i):(this._envelope*=this._releaseC,this._envelope+=(1-this._releaseC)*i),this._callback(this._target,this._envelope)}}}),u.prototype.LFO=function(t){t||(t=this.getDefaults()),this.input=e.createGain(),this.output=e.createScriptProcessor(256,1,1),this.activateNode=e.destination,this.frequency=p(t.frequency,this.defaults.frequency.value),this.offset=p(t.offset,this.defaults.offset.value),this.oscillation=p(t.oscillation,this.defaults.oscillation.value),this.phase=p(t.phase,this.defaults.phase.value),this.target=t.target||{},this.output.onaudioprocess=this.callback(t.callback||function(){}),this.bypass=t.bypass||this.defaults.bypass.value},u.prototype.LFO.prototype=Object.create(n,{name:{value:"LFO"},bufferSize:{value:256},sampleRate:{value:44100},defaults:{value:{frequency:{value:1,min:0,max:20,automatable:!1,type:s},offset:{value:.85,min:0,max:22049,automatable:!1,type:s},oscillation:{value:.3,min:-22050,max:22050,automatable:!1,type:s},phase:{value:0,min:0,max:2*Math.PI,automatable:!1,type:s},bypass:{value:!1,automatable:!1,type:o}}},frequency:{get:function(){return this._frequency},set:function(t){this._frequency=t,this._phaseInc=2*Math.PI*this._frequency*this.bufferSize/this.sampleRate}},offset:{get:function(){return this._offset},set:function(t){this._offset=t}},oscillation:{get:function(){return this._oscillation},set:function(t){this._oscillation=t}},phase:{get:function(){return this._phase},set:function(t){this._phase=t}},target:{get:function(){return this._target},set:function(t){this._target=t}},activate:{value:function(t){t?(this.output.connect(e.destination),this.activateCallback&&this.activateCallback(t)):this.output.disconnect()}},callback:{value:function(t){var e=this;return function(){e._phase+=e._phaseInc,e._phase>2*Math.PI&&(e._phase=0),t(e._target,e._offset+e._oscillation*Math.sin(e._phase))}}}}),u.toString=u.prototype.toString=function(){return"Please visit https://github.com/Theodeus/tuna/wiki for instructions on how to use Tuna.js"}}()}(z={exports:{}},z.exports),z.exports);const W=[];function X(e,a=t){let i;const n=[];function o(t){if(s(e,t)&&(e=t,i)){const t=!W.length;for(let t=0;t<n.length;t+=1){const a=n[t];a[1](),W.push(a,e)}if(t){for(let t=0;t<W.length;t+=2)W[t][0](W[t+1]);W.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,r=t){const u=[s,r];return n.push(u),1===n.length&&(i=a(o)||t),s(e),()=>{const t=n.indexOf(u);-1!==t&&n.splice(t,1),0===n.length&&(i(),i=null)}}}}const U=X(.5),Y=X(0),J=X(0),K=X(0),tt=X(92),et={gain:U,dist:Y,delay:J,reverb:K};function at(t){const{value:e,title:a}=t.target,{set:i}=et[a];i(e)}function it(e){let a,i,n,s,o,c,f;return{c(){a=h("svg"),i=h("g"),n=h("path"),s=h("path"),o=h("defs"),c=h("clipPath"),f=h("path"),v(n,"fill-rule","evenodd"),v(n,"clip-rule","evenodd"),v(n,"d","M13.7889 1.57774c-.7371-1.474095-2.8407-1.474098-3.5777 0L.447247 21.1056C-.217655 22.4354.749337 24 2.2361 24H21.764c1.4867 0 2.4537-1.5646 1.7888-2.8944L17.9155 9.83092 13.2481 16.832c-.4595.6893-1.3908.8755-2.0801.416-.6893-.4595-.8756-1.3908-.416-2.0801l5.6182-8.42745-2.5813-5.16271z"),v(s,"d","M24 3.5C24 5.433 22.433 7 20.5 7S17 5.433 17 3.5 18.567 0 20.5 0 24 1.567 24 3.5z"),v(i,"clip-path","url(#clip0)"),v(i,"fill","currentColor"),v(f,"fill","currentColor"),v(f,"d","M0 0h24v24H0z"),v(c,"id","clip0"),v(a,"fill","none"),v(a,"xmlns","http://www.w3.org/2000/svg"),v(a,"viewBox","0 0 24 24"),v(a,"class","svelte-gu7r8u"),k(a,"flip",e[0])},m(t,e){u(t,a,e),r(a,i),r(i,n),r(i,s),r(a,o),r(o,c),r(c,f)},p(t,[e]){1&e&&k(a,"flip",t[0])},i:t,o:t,d(t){t&&l(a)}}}function nt(t,e,a){let{flip:i}=e;return t.$$set=t=>{"flip"in t&&a(0,i=t.flip)},[i]}class st extends j{constructor(t){super(),B(this,t,nt,it,s,{flip:0})}}function ot(){const t=new(window.AudioContext||window.webkitAudioContext);return function(t){if("suspended"!==t.state)return;const e=document.body,a=["touchstart","touchend","mousedown","keydown"];function i(){t.resume().then(n)}function n(){a.forEach((t=>e.removeEventListener(t,i)))}a.forEach((t=>e.addEventListener(t,i,!1)))}(t),t}function rt(t){let e,a,n,s,o,h,f,m,y,w,_;return m=new st({props:{flip:t[0]}}),{c(){e=c("div"),a=c("label"),n=c("input"),s=p(),o=c("span"),o.textContent="bpm",h=p(),f=c("button"),Z(m.$$.fragment),v(n,"type","number"),v(n,"class","svelte-yzm9gk"),v(o,"class","svelte-yzm9gk"),v(a,"class","svelte-yzm9gk"),v(f,"class","svelte-yzm9gk"),k(f,"isPlaying",t[1]),v(e,"class","wrapper svelte-yzm9gk")},m(i,l){u(i,e,l),r(e,a),r(a,n),b(n,t[2]),r(a,s),r(a,o),r(e,h),r(e,f),E(m,f,null),y=!0,w||(_=[d(n,"input",t[5]),d(n,"input",t[3]),d(f,"click",t[4])],w=!0)},p(t,[e]){4&e&&g(n.value)!==t[2]&&b(n,t[2]);const a={};1&e&&(a.flip=t[0]),m.$set(a),2&e&&k(f,"isPlaying",t[1])},i(t){y||(V(m.$$.fragment,t),y=!0)},o(t){D(m.$$.fragment,t),y=!1},d(t){t&&l(e),S(m),w=!1,i(_)}}}function ut(t,e,a){let i;o(t,tt,(t=>a(2,i=t)));let n,s=!1,r=!1;const u=ot(),l=u.createGain();return l.connect(u.destination),U.subscribe((t=>l.gain.value=t)),L((async()=>{n=await Promise.all(["./sounds/metronome/high.wav","./sounds/metronome/low.wav"].map((t=>async function(t){const e=await fetch(t).then((t=>t.arrayBuffer()));return await new Promise((t=>{u.decodeAudioData(e,(e=>{t(e)}))}))}(t))))})),[s,r,i,function(t){let e=parseInt(t.target.value||0,10);e=e<0?0:e>300?300:e,function(t,e,a=e){t.set(a)}(tt,i=e,i)},function(){a(1,r=!r);let t=1;const e=()=>{r?(!function(t){const e=u.createBufferSource();e.buffer=n[1%t],e.connect(l),e.start(0)}(t),t=t<4?t+=1:1,a(0,s=!s),setTimeout(e,6e4/i)):a(0,s=!1)};e()},function(){i=g(this.value),tt.set(i)}]}class lt extends j{constructor(t){super(),B(this,t,ut,rt,s,{})}}function ct(e){let a;return{c(){a=c("div"),a.innerHTML='<svg viewBox="0 0 104 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1837cxa"><path fill-rule="evenodd" clip-rule="evenodd" d="M85.9252 4.5027H82.4551C82.3833 3.6062 81.8289 3.0737 80.6548 3.0737C79.5329 3.0737 79.0437 3.51857 79.0371 4.12523C79.0045 4.7858 79.572 5.17001 80.8374 5.44638L81.9333 5.68904C83.8779 6.12029 85.0677 6.90931 85.6562 8H78.0776C76.3001 7.37705 75.2483 6.23381 75.2539 4.39485C75.2343 1.76603 77.4782 0 80.6548 0C83.8901 0 85.9122 1.79299 85.9252 4.5027ZM81.7132 9C82.2018 9.24648 82.3949 9.53897 82.4029 9.92211C82.4024 9.94838 82.401 9.97435 82.3988 10H86.1069C86.1074 9.97415 86.1078 9.94818 86.1079 9.92211C86.1059 9.59978 86.0757 9.29218 86.0154 9H81.7132ZM87.4875 9V10H91.1142V9H87.4875ZM92.8329 9V10H96.4596V9.43679H97.712L98.0022 10H101.896L101.369 9H92.8329ZM102.44 8H92.8329V0.188736H98.5991C101.567 0.188736 103.556 1.94128 103.556 4.88017C103.556 6.1984 103.154 7.24495 102.44 8ZM91.1142 8H87.4875V0.188736H91.1142V8ZM81.3781 11H85.9842C85.8974 11.363 85.7657 11.6967 85.5915 12H75.6539C75.4627 11.6998 75.3064 11.3668 75.1875 11H79.8594C80.0917 11.0541 80.3487 11.0815 80.6287 11.0815C80.912 11.0815 81.162 11.053 81.3781 11ZM78.5527 10H74.9685C74.934 9.72769 74.9158 9.44117 74.9147 9.1402H78.3588C78.3739 9.46662 78.4396 9.75368 78.5527 10ZM91.1142 11H87.4875V12H91.1142V11ZM92.8329 12V11H96.4596V12H92.8329ZM99.0329 12L98.5176 11H102.423L102.95 12H99.0329ZM76.5628 13C77.5639 13.7843 78.9773 14.1552 80.6809 14.1552C82.42 14.1552 83.801 13.7567 84.7347 13H76.5628ZM87.4875 13V13.9934H91.1142V13H87.4875ZM92.8329 13V13.9934H96.4596V13H92.8329ZM99.5483 13L100.06 13.9934H104L103.477 13H99.5483ZM96.4596 6.52487V3.18155H97.7381C99.01 3.18155 99.7732 3.69383 99.7732 4.88017C99.7732 6.05977 99.01 6.52487 97.7381 6.52487H96.4596ZM11.0105 20.3206H7.54039C7.53137 20.2078 7.51472 20.1009 7.49017 20H10.9994C11.0063 20.1053 11.01 20.2122 11.0105 20.3206ZM10.8272 19H6.5436C6.31735 18.9287 6.05036 18.8916 5.74009 18.8916C5.4098 18.8916 5.13434 18.9301 4.9099 19H0.504234C0.609589 18.6415 0.763656 18.3071 0.961548 18H10.389C10.5763 18.3067 10.7233 18.6411 10.8272 19ZM5.74009 15.8179C4.17215 15.8179 2.83146 16.2481 1.87804 17H9.52097C8.61228 16.246 7.32103 15.8179 5.74009 15.8179ZM15.0623 19L15.3817 18H21.6125L21.9319 19H15.0623ZM15.7011 17H21.2931L20.9758 16.0066H16.0184L15.7011 17ZM26.6719 19V18H31.9772L32.3743 19H26.6719ZM26.6719 17H31.5801L31.1856 16.0066H26.6719V17ZM36.3633 19L36.7604 18H42.0657V19H36.3633ZM37.1575 17H42.0657V16.0066H37.5519L37.1575 17ZM43.7845 19V18H53.688C53.8936 18.304 54.0635 18.6384 54.1943 19H48.7537C48.7325 18.9996 48.7111 18.9994 48.6897 18.9994H47.4112V19H43.7845ZM43.7845 17H52.7452C51.9126 16.3624 50.8213 16.0066 49.5507 16.0066H43.7845V17ZM57.1802 19L57.4996 18H63.7304L64.0498 19H57.1802ZM57.819 17H63.411L63.0937 16.0066H58.1364L57.819 17ZM68.7898 19V18H72.4165V19H68.7898ZM68.7898 17H72.4165V16.0066H68.7898V17ZM79.595 19C79.7894 18.6364 80.0128 18.3029 80.262 18H90.1448C90.3948 18.3029 90.6192 18.6364 90.8146 19H79.595ZM81.3236 17H89.0806C88.004 16.2195 86.6671 15.8179 85.2077 15.8179C83.7378 15.8179 82.3989 16.2195 81.3236 17ZM92.3894 19V18H104V19H92.3894ZM92.3894 17H104V16.0066H92.3894V17ZM14.7429 20L14.4235 21H18.0969L18.3889 20H14.7429ZM18.6053 20L18.8973 21H22.5708L22.2514 20H18.6053ZM26.6719 20V21H33.1685L32.7714 20H26.6719ZM35.9662 20L35.5691 21H42.0657V20H35.9662ZM43.7845 20V21H47.4112V20H43.7845ZM50.5467 20C50.6635 20.2533 50.7248 20.5506 50.7248 20.8868C50.7248 20.925 50.724 20.9627 50.7224 21H54.507C54.5077 20.9624 54.508 20.9247 54.508 20.8868C54.508 20.5799 54.4863 20.284 54.4441 20H50.5467ZM56.8608 20L56.5414 21H60.2148L60.5069 20H56.8608ZM60.7232 20L61.0152 21H64.6887L64.3693 20H60.7232ZM68.7898 20V21H72.4165V20H68.7898ZM79.1612 20C79.0526 20.3162 78.9623 20.6496 78.8919 21H82.6954C82.8188 20.6085 82.9867 20.2744 83.1977 20H79.1612ZM87.2177 20C87.4287 20.2744 87.5966 20.6085 87.7201 21H91.5221C91.4511 20.6496 91.3603 20.3162 91.2509 20H87.2177ZM96.4074 20V21H99.9819V20H96.4074ZM0.342592 20C0.339799 20.0702 0.338655 20.1412 0.339187 20.2127C0.338346 20.4908 0.361693 20.7531 0.40808 21H5.01419C4.4098 20.7586 4.12273 20.4436 4.12111 20H0.342592ZM0.763001 22H8.59222C10.4066 22.7803 11.1828 24.0602 11.1932 25.74C11.1801 28.4632 9.15153 29.973 5.76618 29.973C2.28299 29.973 0.0130456 28.4227 0 24.9581H3.44405C3.50276 26.2253 4.32464 26.8993 5.714 26.8993C6.87506 26.8993 7.47516 26.4208 7.48821 25.74C7.47516 25.1131 6.96638 24.7289 5.47918 24.3919L4.14852 24.0953C2.53911 23.7379 1.35461 23.0691 0.763001 22ZM17.8049 22H14.104L11.609 29.8113H15.5227L16.2924 27.169H20.7018L21.4715 29.8113H25.3852L22.8902 22H19.1893L19.88 24.3649H17.1143L17.8049 22ZM26.6719 29.8113V22H30.2203V29.8113H26.6719ZM33.299 29.7034L30.4085 22H33.5656L34.2905 23.8256H34.4471L35.172 22H38.3489L35.4385 29.7034H33.299ZM38.5173 22H42.0657V29.8113H38.5173V22ZM47.4112 22H43.7845V29.8113H47.4112V25.713H49.4202C52.0657 25.713 53.9536 24.3149 54.4044 22H50.4234C50.0894 22.51 49.4903 22.8011 48.6897 22.8011H47.4112V22ZM53.7269 29.8113L56.222 22H59.9228L59.2322 24.3649H61.9979L61.3073 22H65.0081L67.5031 29.8113H63.5894L62.8197 27.169H58.4103L57.6406 29.8113H53.7269ZM68.7898 29.8113V22H72.4165V26.7915H77.8174V29.8113H68.7898ZM78.711 22.9089C78.711 22.5961 78.7241 22.2931 78.7496 22H82.4906C82.4583 22.2836 82.442 22.5867 82.442 22.9089C82.442 25.3895 83.4074 26.7376 85.2077 26.7376C87.008 26.7376 87.9734 25.3895 87.9734 22.9089C87.9734 22.5867 87.9571 22.2836 87.9248 22H91.6655C91.6913 22.2931 91.7045 22.5961 91.7045 22.9089C91.7045 27.5195 88.8344 30 85.2077 30C81.5549 30 78.711 27.4925 78.711 22.9089ZM96.4074 29.8113V22H99.9819V29.8113H96.4074Z" fill="currentColor"></path></svg>',v(a,"class","svelte-1837cxa")},m(t,e){u(t,a,e)},p:t,i:t,o:t,d(t){t&&l(a)}}}class ht extends j{constructor(t){super(),B(this,t,null,ct,s,{})}}function ft(e){let a,n,s;return{c(){a=c("div"),a.textContent=`${e[2]}`,v(a,"class","svelte-1qde6yd"),k(a,"dragging",e[1]),k(a,"active",e[0])},m(t,i){u(t,a,i),n||(s=[d(a,"touchstart",e[3]),d(a,"mousedown",e[3]),d(a,"touchend",e[6],{passive:!0}),d(a,"mouseup",e[6]),d(a,"dragenter",e[4]),d(a,"dragleave",e[4]),d(a,"dragover",m(e[10])),d(a,"drop",m(e[5]))],n=!0)},p(t,[e]){2&e&&k(a,"dragging",t[1]),1&e&&k(a,"active",t[0])},i:t,o:t,d(t){t&&l(a),n=!1,i(s)}}}function pt(t,e,a){let{key:i}=e,{active:n}=e,{ctx:s}=e,{connectNode:o}=e;const r=`./sounds/${i}.wav`;let u,l=i.replace("k-",""),c=!1;function h(t){a(0,n=!0),t&&t.cancelable&&t.preventDefault();const e=s.createBufferSource();e.buffer=u,e.connect(o),e.start(0)}return L((async()=>{const t=await fetch(r).then((t=>t.arrayBuffer()));s.decodeAudioData(t,(t=>u=t))})),t.$$set=t=>{"key"in t&&a(7,i=t.key),"active"in t&&a(0,n=t.active),"ctx"in t&&a(8,s=t.ctx),"connectNode"in t&&a(9,o=t.connectNode)},t.$$.update=()=>{1&t.$$.dirty&&n&&h()},[n,c,l,h,function(t){const{type:e}=t;a(1,c="dragenter"===e)},function(t){a(1,c=!1);const e=new FileReader,[i]=t.dataTransfer.items,n=i.getAsFile();e.onload=t=>{s.decodeAudioData(t.target.result,(t=>u=t))},e.readAsArrayBuffer(n)},function(){a(0,n=!1)},i,s,o,function(e){!function(t,e){const a=t.$$.callbacks[e.type];a&&a.slice().forEach((t=>t(e)))}(t,e)}]}class dt extends j{constructor(t){super(),B(this,t,pt,ft,s,{key:7,active:0,ctx:8,connectNode:9})}}function mt(e){let a,i,n,s;return N(e[3]),{c(){a=c("div"),i=c("div"),i.innerHTML='<canvas id="viz"></canvas>',v(i,"class","canvasParent svelte-1qqofw3"),v(a,"class","wrapper svelte-1qqofw3")},m(t,o){u(t,a,o),r(a,i),e[4](i),n||(s=d(window,"resize",e[3]),n=!0)},p:t,i:t,o:t,d(t){t&&l(a),e[4](null),n=!1,s()}}}function vt(t,e,a,i,n){return(a-e)*(t-i)/(n-i)+e}function yt(t,e,a){let i,n,s,o,r,{analyser:u}=e;const l=getComputedStyle(document.body).getPropertyValue("--color-screen"),c=getComputedStyle(document.body).getPropertyValue("--color-led"),h=getComputedStyle(document.body).getPropertyValue("--color-led-rgb");function f(){requestAnimationFrame(f),r.fillStyle=l,r.fillRect(0,0,o.width,o.height),function(){u.getByteFrequencyData(s);const t=o.width,e=o.height,a=n,i=(t-3)/a,l=(e-3)/10;for(let t=0;t<=a;t++)for(let a=0;a<=10;a++)vt(s[t],0,10,0,255)>a?(r.shadowBlur=2,r.shadowColor=c,r.fillStyle=`rgba(${h}, ${s[t]/255})`):(r.shadowBlur=0,r.shadowColor="transparent",r.fillStyle="transparent"),r.fillRect(t*i+3,e-a*l,i-3,l-3)}()}let p;return L((()=>{a(2,u.fftSize=32,u),n=u.frequencyBinCount,s=new Uint8Array(n),o=document.getElementById("viz"),r=o.getContext("2d"),f()})),t.$$set=t=>{"analyser"in t&&a(2,u=t.analyser)},t.$$.update=()=>{1&t.$$.dirty&&p&&function(){const{width:t,height:e}=i.getBoundingClientRect();o.width=t,o.height=e}()},[p,i,u,function(){a(0,p=window.innerWidth)},function(t){x[t?"unshift":"push"]((()=>{i=t,a(1,i)}))}]}class gt extends j{constructor(t){super(),B(this,t,yt,mt,s,{analyser:2})}}const bt=document.createElement("template");function kt(t){const e=parseFloat(t);return e<0?e+360:e}bt.innerHTML='\n    <style>\n        :host {\n            --initial-direction: 0deg;\n            --background-color: #E4E4E4;\n            --border-color: #333333;\n            --marker-color: var(--border-color);\n        }\n        div {\n            width: 50px;\n            height: 50px;\n            background-color: var(--background-color);\n            border: 2px solid var(--border-color);\n            cursor: pointer;\n            border-radius: 50%;\n            transform: rotate(var(--initial-direction));\n        }\n        span {\n            display: block;\n            height: 20%;\n            width: 2px;\n            background-color: var(--marker-color);\n            margin: 0 auto;\n        }\n    </style>\n    <div id="knob" part="knob">\n        <span part="marker"></span>\n    </div>\n';class wt extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(bt.content.cloneNode(!0)),this.knob=this.shadowRoot.getElementById("knob"),this._onInteractionStart=this._onInteractionStart.bind(this),this._onInteractionEnd=this._onInteractionEnd.bind(this),this._rotate=this._rotate.bind(this),this._handleValue=this._handleValue.bind(this),this._getCursorPosition=this._getCursorPosition.bind(this),this._getDegreesFromCoordinate=this._getDegreesFromCoordinate.bind(this)}_handleValue(t){const e=t>=this.startAngle?(t-this.startAngle)/this.range:(t+this.endAngle)/this.range;e>this.min&&e<this.max&&(this.value=Math.round(100*(e+Number.EPSILON))/100)}_getDegreesFromCoordinate(t,e){const a=function(t){const{left:e,right:a,top:i,bottom:n}=t.getBoundingClientRect();return{x:(e+a)/2,y:(i+n)/2}}(this.knob),i=t-a.x,n=e-a.y,s=Math.atan2(n,i)+Math.PI/2,o=180*s/Math.PI;return s<0?o+360:o}_getCursorPosition(t){if(t.x&&t.y)return{x:t.x,y:t.y};{const[{clientX:e,clientY:a}]=t.changedTouches;return{x:e,y:a}}}_rotate(t){const{x:e,y:a}=this._getCursorPosition(t),i=this._getDegreesFromCoordinate(e,a);this._handleValue(i)}_onInteractionStart(t){t.cancelable&&t.preventDefault(),this._rotate(t);const{type:e}=t;e.includes("touch")?(this.addEventListener("touchmove",this._rotate,{passive:!0}),this.addEventListener("touchend",this._onInteractionEnd)):(document.addEventListener("mousemove",this._rotate),document.addEventListener("mouseup",this._onInteractionEnd))}_onInteractionEnd(t){const{type:e}=t;e.includes("touch")?(this.removeEventListener("touchmove",this._rotate),this.removeEventListener("touchend",this._onInteractionEnd)):(document.removeEventListener("mousemove",this._rotate),document.removeEventListener("mouseup",this._onInteractionEnd))}connectedCallback(){this.range=kt(this.endAngle-this.startAngle),this.value=this.value,this.addEventListener("touchstart",this._onInteractionStart,{passive:!1}),this.addEventListener("mousedown",this._onInteractionStart)}disconnectedCallback(){this.removeEventListener("touchstart",this._onInteractionStart),this.removeEventListener("mousedown",this._onInteractionStart)}attributeChangedCallback(t,e,a){const i=this.startAngle+this.range*this.value;this.knob.style.transform=`rotate(${i}deg)`;const n=new Event("rotation",{bubbles:!0});this.dispatchEvent(n)}static get observedAttributes(){return["value"]}get value(){return parseFloat(this.getAttribute("value"))}get startAngle(){return kt(this.getAttribute("startAngle"))}get endAngle(){return kt(this.getAttribute("endAngle"))}get min(){return parseFloat(this.getAttribute("min"))}get max(){return parseFloat(this.getAttribute("max"))}set value(t){this.setAttribute("value",parseFloat(t))}set startAngle(t){this.setAttribute("startAngle",kt(t))}set endAngle(t){this.setAttribute("endAngle",kt(t))}set min(t){this.setAttribute("min",parseFloat(t))}set max(t){this.setAttribute("max",parseFloat(t))}}function _t(e){let a,i,s,o,h,m,g,b;return{c(){a=c("div"),i=c("span"),s=f(e[0]),o=p(),h=c("knob-range"),v(i,"class","svelte-f6w0g1"),y(h,"title",e[0]),y(h,"value",e[3]),y(h,"startangle",-135),y(h,"endangle",135),y(h,"min",0),y(h,"max",.75),y(h,"style",m=`--background-color: var(--color-${e[1]})`),y(h,"class","svelte-f6w0g1"),v(a,"class","wrapper svelte-f6w0g1")},m(t,l){u(t,a,l),r(a,i),r(i,s),r(a,o),r(a,h),g||(b=d(h,"rotation",(function(){n(e[2])&&e[2].apply(this,arguments)})),g=!0)},p(t,[a]){e=t,1&a&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(s,e[0]),1&a&&y(h,"title",e[0]),8&a&&y(h,"value",e[3]),2&a&&m!==(m=`--background-color: var(--color-${e[1]})`)&&y(h,"style",m)},i:t,o:t,d(t){t&&l(a),g=!1,b()}}}function Lt(t,e,a){let{title:i}=e,{color:n}=e,{onChange:s}=e,{initValue:o}=e;return t.$$set=t=>{"title"in t&&a(0,i=t.title),"color"in t&&a(1,n=t.color),"onChange"in t&&a(2,s=t.onChange),"initValue"in t&&a(3,o=t.initValue)},[i,n,s,o]}customElements.define("knob-range",wt);class Ct extends j{constructor(t){super(),B(this,t,Lt,_t,s,{title:0,color:1,onChange:2,initValue:3})}}function xt(t){const e="number"==typeof t?t:50,a=44100,i=new Float32Array(a),n=Math.PI/180;let s;for(let t=0;t<a;++t)s=2*t/a-1,i[t]=(3+e)*s*20*n/(Math.PI+e*Math.abs(s));return i}const{window:Mt}=O;function Tt(t,e,a){const i=t.slice();return i[15]=e[a][0],i[16]=e[a][1],i}function Ht(t){let e,a;return e=new dt({props:{key:t[15],active:t[16],ctx:t[5],connectNode:t[7]}}),{c(){Z(e.$$.fragment)},m(t,i){E(e,t,i),a=!0},p(t,a){const i={};1&a&&(i.key=t[15]),1&a&&(i.active=t[16]),e.$set(i)},i(t){a||(V(e.$$.fragment,t),a=!0)},o(t){D(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function $t(t){let e,a,n,s,o,h,f,m,y,g,b,k,w,_,L,C,x,M,T,H;n=new lt({}),o=new ht({}),f=new Ct({props:{title:"gain",initValue:t[4],color:"knob-1",onChange:at}}),y=new Ct({props:{title:"dist",initValue:t[1],color:"knob-2",onChange:at}}),b=new Ct({props:{title:"delay",initValue:t[2],color:"knob-3",onChange:at}}),w=new Ct({props:{title:"reverb",initValue:t[3],color:"knob-4",onChange:at}}),L=new gt({props:{analyser:t[6]}});let $=Object.entries(t[0]),N=[];for(let e=0;e<$.length;e+=1)N[e]=Ht(Tt(t,$,e));const G=t=>D(N[t],1,1,(()=>{N[t]=null}));return{c(){e=c("div"),a=c("header"),Z(n.$$.fragment),s=p(),Z(o.$$.fragment),h=p(),Z(f.$$.fragment),m=p(),Z(y.$$.fragment),g=p(),Z(b.$$.fragment),k=p(),Z(w.$$.fragment),_=p(),Z(L.$$.fragment),C=p(),x=c("main");for(let t=0;t<N.length;t+=1)N[t].c();v(a,"class","svelte-k72om7"),v(x,"class","svelte-k72om7"),v(e,"class","svelte-k72om7")},m(i,l){u(i,e,l),r(e,a),E(n,a,null),r(a,s),E(o,a,null),r(a,h),E(f,a,null),r(a,m),E(y,a,null),r(a,g),E(b,a,null),r(a,k),E(w,a,null),r(a,_),E(L,a,null),r(e,C),r(e,x);for(let t=0;t<N.length;t+=1)N[t].m(x,null);M=!0,T||(H=[d(Mt,"keydown",t[8]),d(Mt,"keyup",t[8]),d(Mt,"resize",Nt)],T=!0)},p(t,[e]){const a={};16&e&&(a.initValue=t[4]),f.$set(a);const n={};2&e&&(n.initValue=t[1]),y.$set(n);const s={};4&e&&(s.initValue=t[2]),b.$set(s);const o={};if(8&e&&(o.initValue=t[3]),w.$set(o),161&e){let a;for($=Object.entries(t[0]),a=0;a<$.length;a+=1){const i=Tt(t,$,a);N[a]?(N[a].p(i,e),V(N[a],1)):(N[a]=Ht(i),N[a].c(),V(N[a],1),N[a].m(x,null))}for(R={r:0,c:[],p:R},a=$.length;a<N.length;a+=1)G(a);R.r||i(R.c),R=R.p}},i(t){if(!M){V(n.$$.fragment,t),V(o.$$.fragment,t),V(f.$$.fragment,t),V(y.$$.fragment,t),V(b.$$.fragment,t),V(w.$$.fragment,t),V(L.$$.fragment,t);for(let t=0;t<$.length;t+=1)V(N[t]);M=!0}},o(t){D(n.$$.fragment,t),D(o.$$.fragment,t),D(f.$$.fragment,t),D(y.$$.fragment,t),D(b.$$.fragment,t),D(w.$$.fragment,t),D(L.$$.fragment,t),N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)D(N[t]);M=!1},d(t){t&&l(e),S(n),S(o),S(f),S(y),S(b),S(w),S(L),function(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}(N,t),T=!1,i(H)}}}function Nt(){const t=window.innerHeight;document.documentElement.style.setProperty("--app-height",`${t}px`)}function Gt(t,e,a){let i,n,s,r,u;o(t,Y,(t=>a(1,i=t))),o(t,J,(t=>a(2,n=t))),o(t,tt,(t=>a(13,s=t))),o(t,K,(t=>a(3,r=t))),o(t,U,(t=>a(4,u=t)));let l={"k-q":!1,"k-w":!1,"k-e":!1,"k-r":!1,"k-a":!1,"k-s":!1,"k-d":!1,"k-f":!1,"k-z":!1,"k-x":!1,"k-c":!1,"k-v":!1};const c=ot(),h=new Q(c),f=c.createWaveShaper();f.curve=xt(100*i),f.oversample="4x";const p=new h.Delay({feedback:n,delayTime:6e4/s/4,wetLevel:1,dryLevel:1,cutoff:2e4,bypass:0}),d=new h.Convolver({highCut:22050,lowCut:250,dryLevel:1,wetLevel:r,level:1,impulse:"sounds/impulses/big.wav",bypass:0}),m=new h.Gain({gain:u}),v=c.createAnalyser(),y=function(t,e=[]){const{destination:a}=t,[i]=e;return e.forEach(((t,e,i)=>{i[e+1]?t.connect(i[e+1]):t.connect(a)})),i}(c,[f,p,d,m,v]);return U.subscribe((t=>{m.gain.value=t})),Y.subscribe((t=>f.curve=xt(100*t))),J.subscribe((t=>p.feedback=t)),K.subscribe((t=>d.wet.gain.value=t)),tt.subscribe((t=>p.delayTime.value=6e4/t/4/1e3)),L((()=>Nt())),[l,i,n,r,u,c,v,y,function(t){const{key:e,type:i}=t;l.hasOwnProperty(`k-${e}`)&&a(0,l={...l,[`k-${e}`]:"keydown"===i})}]}return new class extends j{constructor(t){super(),B(this,t,Gt,$t,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
